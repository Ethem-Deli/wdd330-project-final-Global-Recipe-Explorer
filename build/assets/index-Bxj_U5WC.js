(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();fetch("https://restcountries.com/v3.1/all").then(e=>e.json()).then(e=>{const t=document.getElementById("flagGrid");if(!t)return;e.sort((i,a)=>i.name.common.localeCompare(a.name.common)).forEach(i=>{const a=document.createElement("a");a.href=`country.html?name=${i.name.common}`,a.innerHTML=`<img src="${i.flags.png}" alt="${i.name.common}" title="${i.name.common}" class="flag" />`,t.appendChild(a)})}).catch(e=>console.error("Error loading countries:",e));const f="f39143f6af2943898e57538f2d6d3de2";async function L(e){return(await fetch(`https://api.spoonacular.com/recipes/${e}/information?apiKey=${f}&includeNutrition=true`)).json()}async function R(e=7){const t=`https://api.spoonacular.com/recipes/random?number=${e}&apiKey=${f}`;try{const{recipes:n}=await(await fetch(t)).json(),i=await Promise.all(n.map(a=>L(a.id)));A(i)}catch(n){console.error("Failed to fetch weekly recipes:",n)}}function A(e){const t=document.getElementById("weekly-recipes");t&&(t.innerHTML="",e.forEach(n=>{const i=n.nutrition.nutrients.reduce((r,o)=>(["Calories","Protein","Fat","Carbohydrates"].includes(o.name)&&(r[o.name]=`${o.amount}${o.unit}`),r),{}),a=document.createElement("div");a.className="recipe-card",a.innerHTML=`
      <span class="favorite-btn" data-id="${n.id}">❤️</span>
      <h3>${n.title}</h3>
      <img src="${n.image}" alt="${n.title}" />
      <p><strong>Calories:</strong> ${i.Calories||"N/A"}</p>
      <p><strong>Protein:</strong> ${i.Protein||"N/A"}</p>
      <p><strong>Fat:</strong> ${i.Fat||"N/A"}</p>
      <p><strong>Carbs:</strong> ${i.Carbohydrates||"N/A"}</p>
      <button class="view-btn" data-id="${n.id}">View Recipe</button>
    `,t.appendChild(a)}),t.querySelectorAll(".favorite-btn").forEach(n=>n.addEventListener("click",()=>S(n.dataset.id))),t.querySelectorAll(".view-btn").forEach(n=>n.addEventListener("click",()=>j(n.dataset.id))))}function S(e){let t=JSON.parse(localStorage.getItem("bookmarkedRecipes"))||[];t.includes(e)||(t.push(e),localStorage.setItem("bookmarkedRecipes",JSON.stringify(t))),alert("Recipe bookmarked!")}function j(e){localStorage.setItem("selectedRecipeId",e),window.location.href=`recipe.html?id=${e}`}async function C(){const e="recipeOfTheWeek",t=localStorage.getItem("recipeOfTheWeekDate"),n=new Date,i=new Date(n.getTime()-7*24*60*60*1e3);let a;if(!t||new Date(t)<i)try{const c=await fetch(`https://api.spoonacular.com/recipes/random?number=1&apiKey=${f}`),{recipes:I}=await c.json();a=I[0],localStorage.setItem(e,JSON.stringify(a)),localStorage.setItem("recipeOfTheWeekDate",n.toISOString())}catch(c){console.error("Failed to fetch Recipe of the Week:",c);return}else a=JSON.parse(localStorage.getItem(e));const o=document.getElementById("weeklyRecipe");o&&a&&(o.innerHTML=`
      <h2>Recipe of the Week</h2>
      <div class="card">
        <img src="${a.image}" alt="${a.title}">
        <h3>${a.title}</h3>
        <a href="recipe.html?id=${a.id}">View Recipe</a>
      </div>
    `)}document.addEventListener("DOMContentLoaded",()=>{C(),R()});const h="f39143f6af2943898e57538f2d6d3de2";async function N(e="",t=1){const n=`https://api.spoonacular.com/recipes/random?number=${t}&tags=${e}&apiKey=${h}&addRecipeNutrition=true`;return(await(await fetch(n)).json()).recipes}async function M(e){return(await(await fetch(`https://restcountries.com/v3.1/name/${e}`)).json())[0]}async function O(e){const i=`https://api.spoonacular.com/recipes/complexSearch?cuisine=${{afghanistan:"middle eastern",algeria:"african",argentina:"latin american",armenia:"middle eastern",australia:"british",austria:"european",bangladesh:"indian",belgium:"european",brazil:"latin american",canada:"american",chile:"latin american",china:"chinese",colombia:"latin american",croatia:"european",cuba:"caribbean",czechia:"european",denmark:"nordic",dominicanrepublic:"caribbean",egypt:"middle eastern",england:"british",finland:"nordic",france:"french",germany:"german",greece:"greek",guatemala:"latin american",haiti:"caribbean",honduras:"latin american",hungary:"european",india:"indian",indonesia:"asian",iran:"middle eastern",iraq:"middle eastern",ireland:"british",israel:"middle eastern",italy:"italian",jamaica:"caribbean",japan:"japanese",jordan:"middle eastern",kenya:"african",korea:"korean",lebanon:"middle eastern",malaysia:"asian",mexico:"mexican",morocco:"african",nepal:"indian",netherlands:"european",newzealand:"british",nicaragua:"latin american",nigeria:"african",norway:"nordic",pakistan:"indian",peru:"latin american",philippines:"asian",poland:"european",portugal:"mediterranean",puertorico:"caribbean",qatar:"middle eastern",romania:"european",russianfederation:"eastern european",saudiarabia:"middle eastern",senegal:"african",serbia:"european",singapore:"asian",slovakia:"european",slovenia:"european",southafrica:"african",southkorea:"korean",spain:"spanish",srilanka:"indian",sweden:"nordic",switzerland:"european",syria:"middle eastern",thailand:"thai",tunisia:"african",turkey:"mediterranean",ukraine:"eastern european",unitedarabemirates:"middle eastern",unitedkingdom:"british",unitedstates:"american",uruguay:"latin american",venezuela:"latin american",vietnam:"vietnamese",yemen:"middle eastern",zimbabwe:"african"}[e.toLowerCase().replace(/\s+/g,"")]||"world"}&number=6&apiKey=${h}`;return(await(await fetch(i)).json()).results}async function b({query:e="",cuisine:t="",diet:n="",includeIngredients:i=""}){const r=`https://api.spoonacular.com/recipes/complexSearch?${new URLSearchParams({...e&&{query:e},...t&&{cuisine:t},...n&&{diet:n},...i&&{includeIngredients:i},number:6,apiKey:h}).toString()}`;return(await(await fetch(r)).json()).results}const s=document.getElementById("dietFilter"),u=document.getElementById("weeklyBtn"),l=document.getElementById("countryFilter"),w=document.getElementById("searchInput"),p=document.getElementById("searchBtn"),d=document.getElementById("categorySelect"),g=document.getElementById("filterForm");s==null||s.addEventListener("change",()=>v(s.value));u==null||u.addEventListener("click",()=>v("",7));l==null||l.addEventListener("change",async()=>{const e=l.value;if(e)try{const t=await M(e);B(t);const n=await O(e);P(n)}catch(t){console.error("Error loading country data:",t)}});d==null||d.addEventListener("change",()=>{const e=d.value;if(e){const t=`https://www.blogilates.com/category/${e}/`;window.open(t,"_blank")}});p==null||p.addEventListener("click",async()=>{const e=w.value.trim();if(!e)return alert("Please enter a search keyword");const t=await b({query:e});$(t)});g==null||g.addEventListener("submit",async e=>{var r;e.preventDefault();const t=w.value.trim(),n=l.value,i=s.value,a=(r=document.getElementById("inclIngredients"))==null?void 0:r.value.trim();if(!t&&!n&&!i&&!a){alert("Please provide at least one filter to search.");return}try{const o=await b({query:t,cuisine:n,diet:i,includeIngredients:a});$(o)}catch(o){console.error("Error fetching filtered recipes:",o)}});async function v(e="",t=1){try{const n=await N(e,t);T(n)}catch(n){console.error("Error fetching recipes:",n)}}function T(e){const t=document.getElementById("recipes");t&&(t.innerHTML="",e.forEach(n=>{var r,o;const i={};(o=(r=n.nutrition)==null?void 0:r.nutrients)==null||o.forEach(c=>{i[c.name]=`${c.amount||"N/A"}${c.unit||""}`});const a=document.createElement("div");a.className="recipe-card",a.innerHTML=`
      <span class="favorite-btn" onclick="saveFavorite(${n.id})">❤️</span>
      <h3>${n.title}</h3>
      <img src="${n.image}" alt="${n.title}" width="100%">
      <p><strong>Calories:</strong> ${i.Calories||"N/A"}</p>
      <p><strong>Protein:</strong> ${i.Protein||"N/A"}</p>
      <p><strong>Fat:</strong> ${i.Fat||"N/A"}</p>
      <p><strong>Carbs:</strong> ${i.Carbohydrates||"N/A"}</p>
      <button onclick="viewRecipe(${n.id})">View Recipe</button>
    `,t.appendChild(a)}))}function $(e){const t=document.getElementById("search-results");if(t){if(t.innerHTML="",!(e!=null&&e.length)){t.innerHTML="<p>No recipes found.</p>";return}e.forEach(n=>{const i=document.createElement("div");i.className="recipe-card",i.innerHTML=`
      <h3>${n.title}</h3>
      <img src="${n.image}" alt="${n.title}" width="100%">
      <button onclick="viewRecipe(${n.id})">View Recipe</button>
    `,t.appendChild(i)})}}window.saveFavorite=e=>{const t=JSON.parse(localStorage.getItem("favorites"))||[];t.includes(e)||(t.push(e),localStorage.setItem("favorites",JSON.stringify(t)),alert("Recipe saved to favorites!"))};window.viewRecipe=e=>{localStorage.setItem("selectedRecipeId",e),window.location.href="recipe.html"};var y;(y=document.querySelector(".hamburger"))==null||y.addEventListener("click",()=>{var e;(e=document.getElementById("menu"))==null||e.classList.toggle("show")});function B(e){const t=document.getElementById("country-details");t&&(t.innerHTML=`
    <h4>${e.name.common}</h4>
    <img src="${e.flags.png}" alt="${e.name.common}" width="200">
    <p><strong>Capital:</strong> ${e.capital}</p>
    <p><strong>Region:</strong> ${e.region}</p>
    <p><strong>Population:</strong> ${e.population.toLocaleString()}</p>
  `)}function P(e){const t=document.getElementById("country-recipes");if(t){if(t.innerHTML="",!(e!=null&&e.length)){t.innerHTML="<p>No recipes found for this country.</p>";return}e.forEach(n=>{const i=document.createElement("div");i.className="recipe-card",i.innerHTML=`
      <h3>${n.title}</h3>
      <img src="${n.image}" alt="${n.title}" width="100%">
      <button onclick="viewRecipe(${n.id})">View Recipe</button>
    `,t.appendChild(i)})}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".hamburger"),t=document.getElementById("menu");e.addEventListener("click",()=>{t.classList.toggle("show")}),document.querySelectorAll("#menu a").forEach(n=>{n.addEventListener("click",()=>{t.classList.remove("show")})})});const k=[{img:"./public/images/ad1.jpg",link:"#",alt:"Ad 1 description"},{img:"./public/images/ad2.jpg",link:"#",alt:"Ad 2 description"},{img:"./public/images/ad3.jpg",link:"#",alt:"Ad 3 description"},{img:"./public/images/ad4.jpg",link:"#",alt:"Ad 4 description"},{img:"./public/images/ad5.jpg",link:"#",alt:"Ad 5 description"},{img:"./public/images/ad6.jpg",link:"#",alt:"Ad 6 description"},{img:"./public/images/ad7.jpg",link:"#",alt:"Ad 7 description"},{img:"./public/images/ad8.jpg",link:"#",alt:"Ad 8 description"},{img:"./public/images/ad9.jpg",link:"#",alt:"Ad 9 description"},{img:"./public/images/ad10.jpg",link:"#",alt:"Ad 10 description"},{img:"./public/images/ad11.jpg",link:"#",alt:"Ad 11 description"},{img:"./public/images/ad12.jpg",link:"#",alt:"Ad 12 description"},{img:"./public/images/ad13.jpg",link:"#",alt:"Ad 13 description"},{img:"./public/images/ad14.jpg",link:"#",alt:"Ad 14 description"}];let m=0;const H=document.getElementById("ad-rotator");function E(e){const{img:t,link:n,alt:i}=k[e];H.innerHTML=`
      <a href="${n}" target="_blank">
        <img src="${t}" alt="${i}" />
      </a>`}function F(){m=(m+1)%k.length,E(m)}E(m);setInterval(F,1e4);
